<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Personalized Project Reference</title>
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      margin: 0;
      padding: 20px;
      background: #e5e7eb;
      min-height: 100%;
    }

    * {
      box-sizing: border-box;
    }

    .container {
      max-width: 900px;
      margin: 0 auto;
      background: white;
      border-radius: 12px;
      padding: 40px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
      padding-bottom: 20px;
      border-bottom: 3px solid #667eea;
    }

    .header h1 {
      margin: 0 0 15px 0;
      color: #667eea;
      font-size: 32px;
    }

    .student-info {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      margin-top: 15px;
    }

    .student-info label {
      font-weight: 600;
      color: #4a5568;
      font-size: 16px;
    }

    .student-info input {
      padding: 8px 15px;
      border: 2px solid #e2e8f0;
      border-radius: 6px;
      font-size: 16px;
      width: 250px;
      transition: border-color 0.3s;
    }

    .student-info input:focus {
      outline: none;
      border-color: #667eea;
    }

    .instructions-box {
      background: #f0f4ff;
      border-left: 4px solid #667eea;
      padding: 25px;
      margin-bottom: 30px;
      border-radius: 8px;
      page-break-inside: avoid;
    }

    .instructions-text {
      color: #2d3748;
      line-height: 1.6;
      margin: 0 0 15px 0;
      font-size: 15px;
    }

    .instructions-text:last-of-type {
      margin-bottom: 10px;
    }

    .print-only {
      display: none;
    }

    .checklist {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .checkbox-item {
      display: flex;
      align-items: flex-start;
      gap: 10px;
      cursor: pointer;
      padding-left: 10px;
      border-radius: 6px;
      transition: background 0.2s;
    }

    .checkbox-item:hover {
      background: rgba(102, 126, 234, 0.1);
    }

    .requirement-checkbox {
      margin-top: 3px;
      width: 18px;
      height: 18px;
      cursor: pointer;
      flex-shrink: 0;
    }

    .checkbox-item span {
      color: #2d3748;
      font-size: 15px;
      line-height: 1.5;
    }

    .code-segment {
      margin-bottom: 35px;
      page-break-inside: avoid;
    }

    .upload-area {
      border: 3px dashed #cbd5e0;
      border-radius: 8px;
      padding: 30px;
      text-align: center;
      background: #f7fafc;
      transition: all 0.3s;
      cursor: pointer;
      min-height: 120px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
    }

    .upload-area:hover {
      border-color: #667eea;
      background: #edf2f7;
    }

    .upload-area.drag-over {
      border-color: #667eea;
      background: #e6f0ff;
      transform: scale(1.02);
    }

    .upload-icon {
      font-size: 48px;
      margin-bottom: 10px;
    }

    .upload-text {
      color: #4a5568;
      font-size: 16px;
      margin-bottom: 10px;
    }

    .upload-button {
      background: #667eea;
      color: white;
      border: none;
      padding: 10px 25px;
      border-radius: 6px;
      font-size: 15px;
      cursor: pointer;
      transition: background 0.3s;
      font-weight: 600;
    }

    .upload-button:hover {
      background: #5568d3;
    }

    .images-container {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }

    .image-wrapper {
      position: relative;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      overflow: hidden;
      background: white;
    }

    .image-wrapper img {
      width: 100%;
      height: auto;
      display: block;
    }

    .remove-button {
      position: absolute;
      top: 8px;
      right: 8px;
      background: #ef4444;
      color: white;
      border: none;
      border-radius: 50%;
      width: 32px;
      height: 32px;
      font-size: 18px;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      transition: background 0.3s;
    }

    .remove-button:hover {
      background: #dc2626;
    }

    .hidden-input {
      display: none;
    }

    .image-count {
      font-size: 13px;
      color: #718096;
      margin-top: 8px;
    }

    .print-button {
      position: fixed;
      bottom: 30px;
      right: 30px;
      background: #10b981;
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 6px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(16, 185, 129, 0.8);
      transition: all 0.3s;
      z-index: 1000;
    }

    .print-button:hover {
      background: #059669;
      box-shadow: 0 6px 20px rgba(16, 185, 129, 0.6);
      transform: translateY(-2px);
    }

    @media print {
      body {
        background: white;
        padding: 0;
      }

      .container {
        box-shadow: none;
        padding: 20px;
        max-width: 100%;
      }

      .student-info {
        justify-content: flex-start;
        padding-bottom: 2px;
        margin-bottom: 20px;
      }

      .student-info label {
        border-bottom: none;
      }

      .student-info input {
        border: none;
        border-bottom: 1px solid #000;
        border-radius: 0;
        width: auto;
        padding: 0;
        flex-grow: 1;
      }

      .print-button {
        display: none;
      }

      .instructions-box {
        display: none;
      }

      .print-only {
        display: block;
        font-weight: bold;
        margin-bottom: 15px;
        color: #2d3748;
        font-size: 15px;
      }

      .remove-button {
        display: none;
      }

      .upload-area {
        display: none;
      }

      .upload-area.has-images {
        display: none;
      }

      .code-segment {
        page-break-inside: avoid;
      }

      .images-container {
        display: block;
      }

      .image-wrapper {
        width: auto;
        max-width: 100%;
        margin-bottom: 20px;
        page-break-inside: avoid;
        border: 1px solid #e2e8f0;
        display: inline-block;
      }

      .image-wrapper img {
        width: auto;
        height: auto;
        max-width: 100%;
        max-height: 90%;
        object-fit: contain;
      }
    }
  </style>
 </head>
 <body>
  <div class="container">
   <div class="header">
    <div class="student-info"><label id="student-label">Name:</label> <input type="text" id="student-name" placeholder="Enter your name"></div>
    <h1 id="page-title">Practice AP CSP Create Task<br/>Personalized Project Reference</h1>
   </div>
   <div class="instructions-box">
    <p class="instructions-text">To assist in responding to the written response prompts, submit required portions of your code by capturing and pasting program code segments you developed as you completed this task.</p>
    <p class="instructions-text">Screen captures should not be blurry, and text should be at least 10-point font size. Your code segments should not include any comments. These code segments will be made available to you on exam day only if this component is submitted as final in the AP Digital Portfolio by the deadline.</p>
    <p class="instructions-text"><strong>Procedure:</strong> Capture and paste two program code segments you developed that contain a student-developed procedure that implements an algorithm used in your program and a call to that procedure.</p>
    <p class="instructions-text"><strong>i. The first program code segment must be a student-developed procedure that:</strong></p>
    <div class="checklist"><label class="checkbox-item"> <input type="checkbox" class="requirement-checkbox"> <span>Defines the procedure's name and return type (if necessary)</span> </label> <label class="checkbox-item"> <input type="checkbox" class="requirement-checkbox"> <span>Contains and uses one or more parameters that have an effect on the functionality of the procedure</span> </label> <label class="checkbox-item"> <input type="checkbox" class="requirement-checkbox"> <span>Implements an algorithm that includes sequencing, selection, and iteration</span> </label>
    </div>
   </div>
   <div class="code-segment" data-segment="1">
    <p class="print-only">Procedure:</p>
    <p class="print-only">i.</p>
    <div class="upload-area" data-segment="1">
     <div class="upload-icon">
      ðŸ“¸
     </div>
     <div class="upload-text" id="upload-instruction-1">
      Click to upload or drag and drop (up to 3 images per segment)
     </div><button class="upload-button">Choose Images</button>
     <div class="image-count" data-count="1">
      0 / 3 images
     </div>
    </div><input type="file" class="hidden-input" accept="image/*" multiple data-segment="1">
    <div class="images-container" data-segment="1"></div>
   </div>
   <div class="instructions-box">
    <p class="instructions-text"><strong>ii. The second program code segment must show where your student-developed procedure is being called in your program.</strong></p>
   </div>
   <div class="code-segment" data-segment="2">
    <p class="print-only">ii.</p>
    <div class="upload-area" data-segment="2">
     <div class="upload-icon">
      ðŸ“¸
     </div>
     <div class="upload-text" id="upload-instruction-2">
      Click to upload or drag and drop (up to 3 images per segment)
     </div><button class="upload-button">Choose Images</button>
     <div class="image-count" data-count="2">
      0 / 3 images
     </div>
    </div><input type="file" class="hidden-input" accept="image/*" multiple data-segment="2">
    <div class="images-container" data-segment="2"></div>
   </div>
   <div class="instructions-box">
    <p class="instructions-text"><strong>List:</strong> Capture and paste two program code segments you developed during the administration of this task that contain a list (or other collection type) being used to manage complexity in your program.</p>
    <p class="instructions-text"><strong>i. The first program code segment must show how data has been stored in the list.</strong></p>
   </div>
   <div class="code-segment" data-segment="3">
    <p class="print-only">List:</p>
    <p class="print-only">i.</p>
    <div class="upload-area" data-segment="3">
     <div class="upload-icon">
      ðŸ“¸
     </div>
     <div class="upload-text" id="upload-instruction-3">
      Click to upload or drag and drop (up to 3 images per segment)
     </div><button class="upload-button">Choose Images</button>
     <div class="image-count" data-count="3">
      0 / 3 images
     </div>
    </div><input type="file" class="hidden-input" accept="image/*" multiple data-segment="3">
    <div class="images-container" data-segment="3"></div>
   </div>
   <div class="instructions-box">
    <p class="instructions-text"><strong>ii. The second program code segment must show the data in the same list being used, such as creating new data from the existing data or accessing multiple elements in the list, as part of fulfilling the program's purpose.</strong></p>
   </div>
   <div class="code-segment" data-segment="4">
    <p class="print-only">ii.</p>
    <div class="upload-area" data-segment="4">
     <div class="upload-icon">
      ðŸ“¸
     </div>
     <div class="upload-text" id="upload-instruction-4">
      Click to upload or drag and drop (up to 3 images per segment)
     </div><button class="upload-button">Choose Images</button>
     <div class="image-count" data-count="4">
      0 / 3 images
     </div>
    </div><input type="file" class="hidden-input" accept="image/*" multiple data-segment="4">
    <div class="images-container" data-segment="4"></div>
   </div>
  </div>
  <button class="print-button" onclick="window.print()">Print to PDF</button>
  <script>
    const segmentImages = {
      1: [],
      2: [],
      3: [],
      4: []
    };

    function setupSegment(segmentNum) {
      const uploadArea = document.querySelector(`.upload-area[data-segment="${segmentNum}"]`);
      const fileInput = document.querySelector(`.hidden-input[data-segment="${segmentNum}"]`);
      const imagesContainer = document.querySelector(`.images-container[data-segment="${segmentNum}"]`);
      const imageCount = document.querySelector(`.image-count[data-count="${segmentNum}"]`);

      uploadArea.addEventListener('click', () => {
        if (segmentImages[segmentNum].length < 3) {
          fileInput.click();
        }
      });

      uploadArea.addEventListener('dragover', (e) => {
        e.preventDefault();
        uploadArea.classList.add('drag-over');
      });

      uploadArea.addEventListener('dragleave', () => {
        uploadArea.classList.remove('drag-over');
      });

      uploadArea.addEventListener('drop', (e) => {
        e.preventDefault();
        uploadArea.classList.remove('drag-over');
        
        if (segmentImages[segmentNum].length >= 3) {
          return;
        }

        const files = Array.from(e.dataTransfer.files).filter(file => file.type.startsWith('image/'));
        handleFiles(files, segmentNum);
      });

      fileInput.addEventListener('change', (e) => {
        const files = Array.from(e.target.files);
        handleFiles(files, segmentNum);
        fileInput.value = '';
      });
    }

    function handleFiles(files, segmentNum) {
      const remainingSlots = 3 - segmentImages[segmentNum].length;
      const filesToAdd = files.slice(0, remainingSlots);

      filesToAdd.forEach(file => {
        const reader = new FileReader();
        reader.onload = (e) => {
          addImage(e.target.result, segmentNum);
        };
        reader.readAsDataURL(file);
      });
    }

    function addImage(dataUrl, segmentNum) {
      segmentImages[segmentNum].push(dataUrl);
      renderImages(segmentNum);
      updateImageCount(segmentNum);
    }

    function removeImage(index, segmentNum) {
      segmentImages[segmentNum].splice(index, 1);
      renderImages(segmentNum);
      updateImageCount(segmentNum);
    }

    function renderImages(segmentNum) {
      const imagesContainer = document.querySelector(`.images-container[data-segment="${segmentNum}"]`);
      const uploadArea = document.querySelector(`.upload-area[data-segment="${segmentNum}"]`);
      
      imagesContainer.innerHTML = '';
      
      segmentImages[segmentNum].forEach((dataUrl, index) => {
        const wrapper = document.createElement('div');
        wrapper.className = 'image-wrapper';
        
        const img = document.createElement('img');
        img.src = dataUrl;
        img.alt = `Code screenshot ${index + 1}`;
        
        const removeBtn = document.createElement('button');
        removeBtn.className = 'remove-button';
        removeBtn.innerHTML = 'Ã—';
        removeBtn.onclick = (e) => {
          e.stopPropagation();
          removeImage(index, segmentNum);
        };
        
        wrapper.appendChild(img);
        wrapper.appendChild(removeBtn);
        imagesContainer.appendChild(wrapper);
      });

      if (segmentImages[segmentNum].length > 0) {
        uploadArea.classList.add('has-images');
      } else {
        uploadArea.classList.remove('has-images');
      }
    }

    function updateImageCount(segmentNum) {
      const imageCount = document.querySelector(`.image-count[data-count="${segmentNum}"]`);
      const count = segmentImages[segmentNum].length;
      imageCount.textContent = `${count} / 3 images`;
      
      const uploadArea = document.querySelector(`.upload-area[data-segment="${segmentNum}"]`);
      if (count >= 3) {
        uploadArea.style.opacity = '0.6';
        uploadArea.style.cursor = 'not-allowed';
      } else {
        uploadArea.style.opacity = '1';
        uploadArea.style.cursor = 'pointer';
      }
    }

    for (let i = 1; i <= 4; i++) {
      setupSegment(i);
    }
  </script>
 
</html>